<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuitos Eléctricos — Introducción</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Familjen+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap');

        :root {
            --bg: #0d0e12;
            --s0: #13141a;
            --s1: #1a1c24;
            --s2: #22252f;
            --border: #2a2d3a;
            --border2: #363a4a;
            --txt: #e4e6f0;
            --txt2: #8b90a8;
            --txt3: #52566a;
            --accent: #4ade80;
            --accent2: #60a5fa;
            --accent3: #f59e0b;
            --red: #f87171;
            --radius: 16px;
            --radius-sm: 10px;
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: var(--bg);
            color: var(--txt);
            font-family: 'Familjen Grotesk', sans-serif;
            font-size: 16px;
            line-height: 1.65;
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::after {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 9999;
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, .03) 2px, rgba(0, 0, 0, .03) 4px);
        }

        .page {
            max-width: 880px;
            margin: 0 auto;
            padding: 36px 24px 80px;
            position: relative;
            z-index: 1;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            letter-spacing: .2em;
            text-transform: uppercase;
            color: var(--txt3);
            text-decoration: none;
            margin-bottom: 24px;
            transition: color .2s;
        }

        .back-link:hover {
            color: var(--txt2);
        }

        .page-title {
            font-family: 'Instrument Serif', serif;
            font-size: clamp(2rem, 6vw, 3.2rem);
            font-weight: 400;
            line-height: 1.1;
            letter-spacing: -.02em;
            background: linear-gradient(135deg, #e4e6f0 30%, #52566a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 6px;
        }

        .page-title em {
            font-style: italic;
        }

        .page-sub {
            font-size: 14px;
            color: var(--txt2);
            margin-bottom: 32px;
        }

        hr {
            border: none;
            border-top: 1px solid var(--border);
            margin: 28px 0;
        }

        .card {
            background: var(--s0);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 22px 24px;
            margin-bottom: 16px;
        }

        .card-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 9px;
            letter-spacing: .22em;
            color: var(--txt3);
            text-transform: uppercase;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-label::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border);
        }

        .card h2 {
            font-family: 'Familjen Grotesk', sans-serif;
            font-size: 15px;
            font-weight: 700;
            color: var(--txt);
            margin: 0 0 10px;
        }

        .card h3 {
            font-family: 'Instrument Serif', serif;
            font-size: 1.25rem;
            font-weight: 400;
            font-style: italic;
            color: var(--txt);
            margin: 18px 0 6px;
        }

        .card h3:first-child {
            margin-top: 0;
        }

        p {
            font-size: 15px;
            color: var(--txt2);
            margin-bottom: 12px;
        }

        p:last-child {
            margin-bottom: 0;
        }

        ul,
        ol {
            padding-left: 22px;
            color: var(--txt2);
            font-size: 15px;
        }

        li {
            margin-bottom: 7px;
            line-height: 1.55;
        }

        strong {
            color: var(--txt);
            font-weight: 600;
        }

        a {
            color: var(--txt);
            text-decoration: underline;
            text-decoration-color: var(--border2);
            text-underline-offset: 3px;
            transition: color .2s;
        }

        a:hover {
            color: var(--accent);
        }

        .info-box {
            background: var(--s1);
            border: 1px solid var(--border);
            border-left: 3px solid var(--border2);
            border-radius: var(--radius-sm);
            padding: 14px 18px;
            margin: 14px 0;
        }

        .info-box p {
            font-size: 14px;
        }

        .info-box li {
            font-size: 14px;
        }

        .info-box.accent {
            border-left-color: var(--accent);
        }

        .info-box.blue {
            border-left-color: var(--accent2);
        }

        .info-box.amber {
            border-left-color: var(--accent3);
        }

        .info-box.red {
            border-left-color: var(--red);
        }

        .math-block {
            background: var(--s1);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 18px 16px;
            margin: 16px 0;
            overflow-x: auto;
            text-align: center;
            color: var(--txt);
            font-size: 1rem;
            -webkit-text-fill-color: var(--txt);
        }

        .table-wrap {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            min-width: 300px;
        }

        caption {
            font-family: 'JetBrains Mono', monospace;
            font-size: 9px;
            letter-spacing: .18em;
            color: var(--txt3);
            text-transform: uppercase;
            text-align: left;
            padding-bottom: 10px;
        }

        thead {
            background: var(--s2);
        }

        th {
            text-align: left;
            padding: 10px 14px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            letter-spacing: .12em;
            text-transform: uppercase;
            color: var(--txt3);
            border-bottom: 1px solid var(--border);
            white-space: nowrap;
        }

        td {
            padding: 10px 14px;
            color: var(--txt2);
            border-bottom: 1px solid var(--border);
            vertical-align: top;
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        tbody tr:hover {
            background: rgba(255, 255, 255, .02);
        }

        tfoot tr {
            border-top: 1px solid var(--border);
        }

        tfoot td {
            padding: 14px;
            font-size: 13px;
            color: var(--txt2);
            border-bottom: none;
        }

        .site-footer {
            border-top: 1px solid var(--border);
            padding: 24px 0 0;
            text-align: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: var(--txt3);
        }

        .site-footer p {
            font-size: 11px;
            color: var(--txt3);
            margin: 0;
        }

        /* Tab system */
        .tab-bar {
            display: flex;
            gap: 4px;
            margin-bottom: 14px;
            flex-wrap: wrap;
        }

        .tab-btn {
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            letter-spacing: .12em;
            text-transform: uppercase;
            color: var(--txt3);
            background: var(--s2);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 6px 12px;
            cursor: pointer;
            transition: all .2s;
        }

        .tab-btn:hover {
            color: var(--txt2);
            border-color: var(--border2);
        }

        .tab-btn.active {
            color: var(--accent);
            border-color: var(--accent);
            background: rgba(74, 222, 128, .07);
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* Badge row */
        .badge-row {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 10px 0;
        }

        .badge {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: var(--txt2);
            background: var(--s2);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 3px 12px;
            white-space: nowrap;
        }

        .badge strong {
            color: var(--txt);
        }

        .badge.green {
            border-color: var(--accent);
            color: var(--accent);
        }

        .badge.blue {
            border-color: var(--accent2);
            color: var(--accent2);
        }

        .badge.amber {
            border-color: var(--accent3);
            color: var(--accent3);
        }

        .badge.red {
            border-color: var(--red);
            color: var(--red);
        }

        /* Feature grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin: 14px 0;
        }

        .feature-cell {
            background: var(--s1);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 14px;
        }

        .feature-cell .fc-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 9px;
            letter-spacing: .15em;
            color: var(--txt3);
            text-transform: uppercase;
            margin-bottom: 6px;
        }

        .feature-cell .fc-value {
            font-size: 14px;
            color: var(--txt);
        }

        .feature-cell .fc-sub {
            font-size: 12px;
            color: var(--txt2);
            margin-top: 4px;
        }

        /* Circuit diagram */
        .circuit-wrap {
            background: var(--s1);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 32px 20px 24px;
            margin: 20px 0;
            overflow-x: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .circuit-wrap svg {
            max-width: 100%;
            height: auto;
        }

        .circuit-caption {
            font-family: 'JetBrains Mono', monospace;
            font-size: 9px;
            letter-spacing: .18em;
            text-transform: uppercase;
            color: var(--txt3);
            text-align: center;
        }

        /* Table center */
        .tc {
            text-align: center;
        }

        /* Question block */
        .question-block {
            background: var(--s1);
            border: 1px solid var(--border);
            border-left: 3px solid var(--accent2);
            border-radius: var(--radius-sm);
            margin: 14px 0;
        }

        .question-block .qb-header {
            padding: 12px 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            user-select: none;
        }

        .question-block .qb-title {
            font-family: 'Instrument Serif', serif;
            font-style: italic;
            font-size: 1rem;
            color: var(--txt);
        }

        .question-block .qb-arrow {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: var(--txt3);
            transition: transform .25s;
            flex-shrink: 0;
        }

        .question-block.open .qb-arrow {
            transform: rotate(90deg);
        }

        .question-block .qb-body {
            display: none;
            padding: 0 18px 14px;
            border-top: 1px solid var(--border);
        }

        .question-block.open .qb-body {
            display: block;
        }

        .question-block .qb-body p {
            font-size: 14px;
            margin-top: 10px;
        }

        .question-block .qb-body ul,
        .question-block .qb-body ol {
            font-size: 14px;
            margin-top: 6px;
        }

        /* Safety meter */
        .safety-meter {
            background: var(--s1);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 16px;
            margin: 14px 0;
        }

        .safety-bar-wrap {
            margin: 10px 0;
        }

        .safety-bar-label {
            display: flex;
            justify-content: space-between;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            color: var(--txt3);
            margin-bottom: 4px;
        }

        .safety-bar {
            height: 6px;
            border-radius: 3px;
            background: var(--border2);
            overflow: hidden;
        }

        .safety-bar-fill {
            height: 100%;
            border-radius: 3px;
        }

        /* Simulator */
        .sim-wrap {
            background: var(--s1);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 16px;
            margin: 14px 0;
        }

        .sim-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 14px;
            align-items: flex-end;
        }

        .sim-field {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .sim-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            letter-spacing: .12em;
            text-transform: uppercase;
            color: var(--txt3);
        }

        .sim-input {
            background: var(--s2);
            border: 1px solid var(--border2);
            border-radius: 8px;
            padding: 8px 12px;
            color: var(--txt);
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            outline: none;
            width: 130px;
            transition: border-color .2s;
        }

        .sim-input:focus {
            border-color: var(--accent);
        }

        .sim-input[readonly] {
            background: var(--s1);
            color: var(--accent);
            border-color: var(--border);
        }

        .sim-status {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            padding: 10px 14px;
            background: var(--s2);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            color: var(--txt3);
            margin-top: 8px;
            min-height: 38px;
        }

        /* Sidenav */
        :root {
            --sidenav-w: 220px;
            --sidenav-w-collapsed: 52px;
        }

        @media (min-width: 601px) {
            body {
                display: flex;
                min-height: 100vh;
            }

            .page {
                margin-left: var(--sidenav-w);
                transition: margin-left .3s ease;
                flex: 1;
            }

            body:has(.sidenav.collapsed) .page {
                margin-left: var(--sidenav-w-collapsed);
            }
        }

        .sidenav {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: var(--sidenav-w);
            background: var(--s0);
            border-right: 1px solid var(--border);
            z-index: 1000;
            transition: width .3s ease, transform .3s ease;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .sidenav.collapsed {
            width: var(--sidenav-w-collapsed);
        }

        .sidenav-inner {
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 20px 0;
            overflow-y: auto;
            overflow-x: hidden;
            scrollbar-width: none;
        }

        .sidenav-inner::-webkit-scrollbar {
            display: none;
        }

        .sidenav-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0 14px 20px;
            border-bottom: 1px solid var(--border);
            margin-bottom: 18px;
            white-space: nowrap;
            overflow: hidden;
        }

        .sidenav-logo-icon {
            font-size: 18px;
            color: var(--accent);
            flex-shrink: 0;
            line-height: 1;
        }

        .sidenav-logo-text {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            font-weight: 500;
            letter-spacing: .18em;
            color: var(--txt2);
            text-transform: uppercase;
            opacity: 1;
            transition: opacity .2s ease;
        }

        .sidenav.collapsed .sidenav-logo-text {
            opacity: 0;
        }

        .sidenav-section-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 8.5px;
            letter-spacing: .2em;
            text-transform: uppercase;
            color: var(--txt3);
            padding: 0 14px 8px;
            white-space: nowrap;
            overflow: hidden;
            opacity: 1;
            transition: opacity .2s ease;
        }

        .sidenav.collapsed .sidenav-section-label {
            opacity: 0;
        }

        .sidenav-link {
            display: flex;
            align-items: center;
            gap: 11px;
            padding: 9px 14px;
            text-decoration: none;
            color: var(--txt2);
            font-size: 13.5px;
            white-space: nowrap;
            overflow: hidden;
            cursor: pointer;
            transition: background .15s, color .15s;
            position: relative;
        }

        .sidenav-link:hover {
            background: rgba(255, 255, 255, .04);
            color: var(--txt);
            text-decoration: none;
        }

        .sidenav-link.active {
            color: var(--accent);
        }

        .sidenav.collapsed .sidenav-link::after {
            content: attr(data-label);
            font-family: 'JetBrains Mono', monospace;
            font-size: 8px;
            letter-spacing: .06em;
            color: var(--txt3);
            position: absolute;
            right: 6px;
            top: 50%;
            transform: translateY(-50%);
        }

        .sidenav-link-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: var(--border2);
            flex-shrink: 0;
            transition: background .2s;
        }

        .sidenav-link-dot--accent {
            background: var(--accent);
        }

        .sidenav-link:hover .sidenav-link-dot {
            background: var(--txt2);
        }

        .sidenav-link-name {
            opacity: 1;
            transition: opacity .2s ease;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .sidenav.collapsed .sidenav-link-name {
            opacity: 0;
        }

        .sidenav-divider {
            height: 1px;
            background: var(--border);
            margin: 10px 14px;
            flex-shrink: 0;
        }

        .sidenav-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 26px;
            height: 26px;
            border-radius: 7px;
            border: 1px solid var(--border);
            background: var(--s1);
            color: var(--txt3);
            font-size: 11px;
            cursor: pointer;
            transition: all .2s;
            margin: auto 14px 0;
            flex-shrink: 0;
            align-self: flex-start;
        }

        .sidenav-toggle:hover {
            border-color: var(--border2);
            color: var(--txt);
            background: var(--s2);
        }

        .sidenav.collapsed .sidenav-toggle {
            margin-left: auto;
            margin-right: auto;
            align-self: center;
        }

        .sidenav-open-btn {
            display: none;
            position: fixed;
            top: 14px;
            left: 14px;
            z-index: 900;
            flex-direction: column;
            gap: 5px;
            padding: 10px;
            background: var(--s1);
            border: 1px solid var(--border);
            border-radius: 9px;
            cursor: pointer;
            transition: all .2s;
        }

        .sidenav-open-btn span {
            display: block;
            width: 18px;
            height: 1.5px;
            background: var(--txt2);
            border-radius: 2px;
            transition: background .2s;
        }

        .sidenav-open-btn:hover span {
            background: var(--txt);
        }

        .sidenav-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, .6);
            z-index: 999;
            opacity: 0;
            transition: opacity .3s;
        }

        @media (max-width: 600px) {
            body {
                display: block;
            }

            .page {
                margin-left: 0 !important;
                padding: 60px 16px 60px;
            }

            .sidenav {
                transform: translateX(-100%);
                width: var(--sidenav-w) !important;
            }

            .sidenav.open {
                transform: translateX(0);
            }

            .sidenav-open-btn {
                display: flex;
            }

            .sidenav-overlay {
                display: block;
                pointer-events: none;
            }

            .sidenav-overlay.active {
                opacity: 1;
                pointer-events: all;
            }

            .sidenav-toggle {
                display: none;
            }

            .page-title {
                font-size: 2rem;
            }

            .card {
                padding: 16px;
            }

            th,
            td {
                padding: 8px 10px;
            }

            table {
                font-size: 13px;
            }
        }
    </style>
</head>

<body>

    <button class="sidenav-open-btn" id="snavOpen" aria-label="Abrir menú">
        <span></span><span></span><span></span>
    </button>
    <div class="sidenav-overlay" id="snavOverlay"></div>

    <nav class="sidenav" id="sidenav">
        <div class="sidenav-inner">
            <div class="sidenav-logo">
                <div class="sidenav-logo-icon">⚡</div>
                <div class="sidenav-logo-text">Circuitos</div>
            </div>
            <div class="sidenav-section-label">Contenido</div>
            <a href="#intro" class="sidenav-link active" data-label="01">
                <div class="sidenav-link-dot sidenav-link-dot--accent"></div>
                <span class="sidenav-link-name">Introducción</span>
            </a>
            <a href="#componentes" class="sidenav-link" data-label="02">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Componentes</span>
            </a>
            <a href="#leyes" class="sidenav-link" data-label="03">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Leyes fundamentales</span>
            </a>
            <a href="#serie-paralelo" class="sidenav-link" data-label="04">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Serie y paralelo</span>
            </a>
            <a href="#simulador" class="sidenav-link" data-label="05">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Simulador Ohm</span>
            </a>
            <a href="#compuertas" class="sidenav-link" data-label="06">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Compuertas lógicas</span>
            </a>
            <a href="#ac" class="sidenav-link" data-label="07">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Corriente AC</span>
            </a>
            <a href="#seguridad" class="sidenav-link" data-label="08">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Seguridad eléctrica</span>
            </a>
            <a href="#filosofia" class="sidenav-link" data-label="09">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Filosofía científica</span>
            </a>
            <a href="#preguntas" class="sidenav-link" data-label="10">
                <div class="sidenav-link-dot"></div>
                <span class="sidenav-link-name">Preguntas curiosas</span>
            </a>
            <div class="sidenav-divider"></div>
            <button class="sidenav-toggle" id="snavToggle" aria-label="Colapsar menú">&#10094;</button>
        </div>
    </nav>

    <div class="page">
        <a href="index.html" class="back-link">← Volver</a>
        <h1 class="page-title" id="intro">Circuitos <em>Eléctricos</em></h1>
        <p class="page-sub">Fundamentos · componentes · leyes · compuertas lógicas · seguridad · filosofía de la
            medición</p>

        <!-- 1. INTRODUCCIÓN -->
        <div class="card">
            <div class="card-label">Introducción</div>
            <p>La electricidad es uno de los fenómenos más omnipresentes de la naturaleza y, al mismo tiempo, uno de los
                más sistemáticamente dominados por la ingeniería humana. Un <strong>circuito eléctrico</strong> es, en
                esencia, un camino cerrado a través del cual puede circular carga eléctrica. Cuando ese camino está
                abierto —roto— la corriente no fluye; cuando está cerrado, los electrones se ponen en movimiento.</p>
            <p>Entender los circuitos requiere comprender tres conceptos inseparables: la <strong>carga
                    eléctrica</strong> \( q \) (medida en coulombs, C), la <strong>diferencia de potencial</strong> o
                tensión \( V \) (en voltios, V) que "empuja" esa carga, y la <strong>resistencia</strong> \( R \) (en
                ohms, Ω) que se opone al movimiento.</p>

            <div class="info-box accent">
                <p><strong>Analogía hidráulica:</strong> la corriente eléctrica es como el caudal de agua en una
                    tubería. El voltaje es la presión que mueve el agua, la resistencia es el diámetro y la rugosidad de
                    la tubería, y la corriente es el volumen de agua que fluye por unidad de tiempo.</p>
            </div>

            <h3>¿Qué es la corriente eléctrica?</h3>
            <p>La corriente eléctrica \( I \) es el flujo neto de carga eléctrica por unidad de tiempo a través de una
                sección transversal de un conductor:</p>
            <div class="math-block">$$ I = \frac{dq}{dt} \qquad [A] = \left[\frac{C}{s}\right] $$</div>
            <p>Por convenio histórico, la corriente convencional fluye del polo positivo al negativo — sentido opuesto
                al movimiento real de los electrones. Esta convención, aunque físicamente invertida, se mantiene
                universalmente.</p>

            <div class="feature-grid">
                <div class="feature-cell">
                    <div class="fc-label">Carga (q)</div>
                    <div class="fc-value">Coulomb (C)</div>
                    <div class="fc-sub">1 C ≈ 6.24 × 10¹⁸ electrones</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Corriente (I)</div>
                    <div class="fc-value">Ampere (A)</div>
                    <div class="fc-sub">= C/s · flujo de carga</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Tensión (V)</div>
                    <div class="fc-value">Voltio (V)</div>
                    <div class="fc-sub">= J/C · diferencia de potencial</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Resistencia (R)</div>
                    <div class="fc-value">Ohm (Ω)</div>
                    <div class="fc-sub">= V/A · oposición al flujo</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Potencia (P)</div>
                    <div class="fc-value">Watt (W)</div>
                    <div class="fc-sub">= J/s = V·A</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Energía (E)</div>
                    <div class="fc-value">Joule (J)</div>
                    <div class="fc-sub">= W·s = V·C</div>
                </div>
            </div>
        </div>

        <!-- 2. COMPONENTES -->
        <div class="card" id="componentes">
            <div class="card-label">Componentes esenciales</div>
            <p>Todo circuito eléctrico está formado por componentes que cumplen roles específicos. Se dividen en
                <strong>fuentes</strong> (aportan energía) y <strong>elementos pasivos</strong> (consumen o almacenan
                energía).</p>

            <div class="tab-bar" id="compTabs">
                <button class="tab-btn active" data-tab="resistor">Resistor</button>
                <button class="tab-btn" data-tab="capacitor">Capacitor</button>
                <button class="tab-btn" data-tab="inductor">Inductor</button>
                <button class="tab-btn" data-tab="fuentes">Fuentes</button>
                <button class="tab-btn" data-tab="diodo">Diodo</button>
                <button class="tab-btn" data-tab="transistor">Transistor</button>
            </div>

            <div class="tab-panel active" id="tab-resistor">
                <div class="badge-row">
                    <span class="badge green">Símbolo: R</span>
                    <span class="badge">Unidad: Ohm (Ω)</span>
                    <span class="badge">Tipo: Pasivo disipativo</span>
                </div>
                <!-- Símbolo eléctrico IEEE del resistor -->
                <!--
                  Layout (viewBox 320×90):
                  cy=42 (centro del cable). Cable de 0 a 320.
                  Zigzag: x=70..210, amplitude=±17 (picos en y=25 y y=59).
                  Etiqueta "R [Ω]" baseline y=78, centrada bajo el zigzag en x=140.
                  Flecha de corriente "I" en cable derecho x=240, con triángulo apuntando derecha.
                -->
                <div class="circuit-wrap" style="padding:24px 16px 16px;margin:12px 0 16px;">
                    <svg width="100%" viewBox="0 0 320 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Cable izquierdo -->
                        <line x1="0" y1="42" x2="70" y2="42" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Zigzag IEEE (cy=42, amp=17): 4 picos alternados -->
                        <!-- x=70(entrada)→80(plano)→93(↑pico25)→109(↓pico59)→125(↑)→141(↓)→153(↑)→163(plano)→210(salida) -->
                        <polyline
                            points="70,42 80,42 93,25 109,59 125,25 141,59 153,25 163,42 210,42"
                            stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <!-- Cable derecho -->
                        <line x1="210" y1="42" x2="320" y2="42" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Etiqueta componente — centrada bajo el zigzag (x=70+210)/2=140 -->
                        <text x="140" y="78"
                              text-anchor="middle" fill="#60a5fa"
                              font-size="13" font-family="'JetBrains Mono',monospace">R  [Ω]</text>
                        <!-- Flecha corriente I en cable derecho, alejada del zigzag -->
                        <!-- Triángulo: punta en x=276, base en x=262 -->
                        <polygon points="276,42 262,35 262,49" fill="#4ade80" opacity="0.75"/>
                        <!-- "I" a la izquierda de la flecha -->
                        <text x="254" y="38"
                              text-anchor="end" fill="#4ade80"
                              font-size="12" font-family="'JetBrains Mono',monospace" opacity="0.85">I</text>
                    </svg>
                    <div class="circuit-caption">símbolo IEEE del resistor (zigzag)</div>
                </div>
                <p>El <strong>resistor</strong> convierte energía eléctrica en calor mediante colisiones de electrones
                    con la red cristalina del conductor. Su valor depende del material, la longitud \( L \) y la sección
                    transversal \( A \):</p>
                <div class="math-block">$$ R = \rho \frac{L}{A} $$</div>
                <p>donde \( \rho \) es la <em>resistividad</em> del material (Ω·m). El cobre puro tiene \( \rho \approx
                    1.7 \times 10^{-8}\,\Omega\cdot\text{m} \); el vidrio tiene \( \rho \sim
                    10^{12}\,\Omega\cdot\text{m} \).</p>
                <div class="info-box">
                    <p>El <strong>código de colores</strong> pintado en bandas sobre el resistor codifica su valor. Las
                        primeras bandas son cifras significativas, la siguiente es el multiplicador (potencia de 10) y
                        la última es la tolerancia (dorado = ±5%, plata = ±10%).</p>
                </div>
            </div>

            <div class="tab-panel" id="tab-capacitor">
                <div class="badge-row">
                    <span class="badge blue">Símbolo: C</span>
                    <span class="badge">Unidad: Farad (F)</span>
                    <span class="badge">Tipo: Pasivo reactivo</span>
                </div>
                <!-- Símbolo eléctrico del capacitor -->
                <!--
                  Layout (viewBox 320×90):
                  cy=42. Placa A en x=140 (grosor 3), placa B en x=154 (grosor 3). Gap=14px.
                  Placas de altura 44px (y=20..64). Cables a ambos lados.
                  Etiquetas "+" y "−" sobre las placas, a y=14.
                  Etiqueta "C [F]" bajo el componente a y=80.
                -->
                <div class="circuit-wrap" style="padding:24px 16px 16px;margin:12px 0 16px;">
                    <svg width="100%" viewBox="0 0 320 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Cable izquierdo -->
                        <line x1="0" y1="42" x2="140" y2="42" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Placa izquierda (ánodo +): x=140, y=20..64 -->
                        <line x1="140" y1="20" x2="140" y2="64" stroke="#60a5fa" stroke-width="3.5"/>
                        <!-- Placa derecha (cátodo −): x=154, y=20..64 -->
                        <line x1="154" y1="20" x2="154" y2="64" stroke="#60a5fa" stroke-width="3.5"/>
                        <!-- Cable derecho -->
                        <line x1="154" y1="42" x2="320" y2="42" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Etiqueta "+" sobre placa izquierda, centrada en x=140 -->
                        <text x="135" y="14"
                              text-anchor="middle" fill="#4ade80"
                              font-size="14" font-family="'JetBrains Mono',monospace" font-weight="bold">+</text>
                        <!-- Etiqueta "−" sobre placa derecha, centrada en x=154 -->
                        <text x="159" y="14"
                              text-anchor="middle" fill="#8b90a8"
                              font-size="14" font-family="'JetBrains Mono',monospace">−</text>
                        <!-- Etiqueta componente, centrada entre placas: (140+154)/2=147, bajo el diagrama -->
                        <text x="147" y="80"
                              text-anchor="middle" fill="#60a5fa"
                              font-size="13" font-family="'JetBrains Mono',monospace">C  [F]</text>
                    </svg>
                    <div class="circuit-caption">símbolo del capacitor (dos placas paralelas)</div>
                </div>
                <p>El <strong>capacitor</strong> almacena energía en un <em>campo eléctrico</em> entre dos placas
                    conductoras separadas por un dieléctrico. Su capacitancia indica cuánta carga almacena por unidad de
                    voltaje:</p>
                <div class="math-block">$$ C = \frac{q}{V} = \varepsilon_0 \varepsilon_r \frac{A}{d} \qquad [F] =
                    \left[\frac{C}{V}\right] $$</div>
                <p>La energía almacenada es \( E_C = \tfrac{1}{2}CV^2 \). La corriente que lo atraviesa es:</p>
                <div class="math-block">$$ i_C = C\,\frac{dv}{dt} $$</div>
                <div class="info-box blue">
                    <p>Un capacitor <strong>bloquea la corriente continua</strong> (DC) y permite la alterna (AC). Es
                        esencial en filtros de señal, fuentes de alimentación, y como celda de memoria en DRAM.</p>
                </div>
            </div>

            <div class="tab-panel" id="tab-inductor">
                <div class="badge-row">
                    <span class="badge amber">Símbolo: L</span>
                    <span class="badge">Unidad: Henry (H)</span>
                    <span class="badge">Tipo: Pasivo reactivo</span>
                </div>
                <!-- Símbolo eléctrico del inductor -->
                <!--
                  Layout (viewBox 320×90):
                  cy=44. 5 arcos semicirculares r=14, curvan ARRIBA (sweep=0,1 con centro arriba).
                  Cada arco: de x a x+28, todos en y=44. Picos: y=44-14=30.
                  Arcos: x=80→108, 108→136, 136→164, 164→192, 192→220.
                  Cables: 0→80 y 220→320.
                  Etiqueta "L [H]" a y=80, centrada en x=150 (centro de bobina 80..220).
                -->
                <div class="circuit-wrap" style="padding:24px 16px 16px;margin:12px 0 16px;">
                    <svg width="100%" viewBox="0 0 320 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Cable izquierdo -->
                        <line x1="0" y1="44" x2="80" y2="44" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- 5 arcos semicirculares, barriendo hacia arriba (A rx ry rot large-arc sweep x y) -->
                        <!-- sweep=1 + estos puntos finales: genera semicírculo superior (curva hacia arriba) -->
                        <path d="M80,44 A14,14 0 0 1 108,44
                                  A14,14 0 0 1 136,44
                                  A14,14 0 0 1 164,44
                                  A14,14 0 0 1 192,44
                                  A14,14 0 0 1 220,44"
                              stroke="#f59e0b" stroke-width="2.4" fill="none"/>
                        <!-- Cable derecho -->
                        <line x1="220" y1="44" x2="320" y2="44" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Etiqueta centrada bajo la bobina: (80+220)/2=150 -->
                        <text x="150" y="80"
                              text-anchor="middle" fill="#f59e0b"
                              font-size="13" font-family="'JetBrains Mono',monospace">L  [H]</text>
                    </svg>
                    <div class="circuit-caption">símbolo del inductor (bobina — 5 arcos semicirculares)</div>
                </div>
                <p>El <strong>inductor</strong> almacena energía en un <em>campo magnético</em> generado por la
                    corriente que lo atraviesa. Se opone a los cambios rápidos de corriente. La tensión inducida es:</p>
                <div class="math-block">$$ v_L = L\,\frac{di}{dt} \qquad E_L = \frac{1}{2}LI^2 $$</div>
                <p>El inductor es el <em>dual</em> del capacitor: pasa DC y bloquea AC. Juntos forman circuitos LC con
                    frecuencia natural de resonancia:</p>
                <div class="math-block">$$ \omega_0 = \frac{1}{\sqrt{LC}} $$</div>
            </div>

            <div class="tab-panel" id="tab-fuentes">
                <div class="badge-row">
                    <span class="badge green">Fuente de tensión</span>
                    <span class="badge blue">Fuente de corriente</span>
                </div>
                <div class="table-wrap">
                    <table>
                        <caption>Tipos de fuentes</caption>
                        <thead>
                            <tr>
                                <th>Tipo</th>
                                <th>Fija</th>
                                <th>Ejemplo real</th>
                                <th>Modelo ideal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Fuente de tensión (Vs)</strong></td>
                                <td>Voltaje \(V\)</td>
                                <td>Batería, generador</td>
                                <td>Resistencia interna = 0</td>
                            </tr>
                            <tr>
                                <td><strong>Fuente de corriente (Is)</strong></td>
                                <td>Corriente \(I\)</td>
                                <td>Panel solar (luz plena)</td>
                                <td>Resistencia interna = ∞</td>
                            </tr>
                            <tr>
                                <td><strong>VCVS (dependiente)</strong></td>
                                <td>V × ganancia</td>
                                <td>Amplificador op.</td>
                                <td>\(V_{out} = A\cdot V_{in}\)</td>
                            </tr>
                            <tr>
                                <td><strong>CCCS (dependiente)</strong></td>
                                <td>I × ganancia</td>
                                <td>Transistor BJT</td>
                                <td>\(I_C = \beta\cdot I_B\)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-panel" id="tab-diodo">
                <div class="badge-row">
                    <span class="badge">Símbolo: D</span>
                    <span class="badge">Material: Si, Ge</span>
                    <span class="badge">Tipo: No lineal</span>
                </div>
                <!-- Símbolo eléctrico del diodo -->
                <!--
                  Layout (viewBox 320×90):
                  cy=42. Triángulo: base vertical en x=110 (y=16..68), vértice en x=150 (y=42).
                  Barra de cátodo: x=150, y=16..68, grosor 3.
                  Cables: 0→110 y 150→320. Etiquetas A (ánodo) y K (cátodo) junto a los terminales.
                  Etiqueta "D" bajo el componente. Flecha de corriente en cable derecho.
                -->
                <div class="circuit-wrap" style="padding:24px 16px 16px;margin:12px 0 16px;">
                    <svg width="100%" viewBox="0 0 320 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Cable izquierdo (ánodo) -->
                        <line x1="0" y1="42" x2="110" y2="42" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Triángulo del diodo: base en x=110 (y=16,y=68), vértice en x=150 (y=42) -->
                        <polygon points="110,16 110,68 150,42"
                                 stroke="#f87171" stroke-width="2.2" fill="rgba(248,113,113,0.12)"/>
                        <!-- Barra de cátodo: línea vertical en x=150 -->
                        <line x1="150" y1="16" x2="150" y2="68"
                              stroke="#f87171" stroke-width="3.5"/>
                        <!-- Cable derecho (cátodo) -->
                        <line x1="150" y1="42" x2="320" y2="42" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Etiqueta ánodo "A" a la izquierda -->
                        <text x="96" y="46"
                              text-anchor="end" fill="#8b90a8"
                              font-size="12" font-family="'JetBrains Mono',monospace">A</text>
                        <!-- Etiqueta cátodo "K" a la derecha -->
                        <text x="164" y="46"
                              text-anchor="start" fill="#8b90a8"
                              font-size="12" font-family="'JetBrains Mono',monospace">K</text>
                        <!-- Etiqueta componente centrada bajo el símbolo: (110+150)/2=130 -->
                        <text x="130" y="82"
                              text-anchor="middle" fill="#f87171"
                              font-size="13" font-family="'JetBrains Mono',monospace">D  — Si / Ge</text>
                        <!-- Flecha corriente en cable derecho -->
                        <polygon points="270,42 256,35 256,49" fill="#4ade80" opacity="0.75"/>
                        <text x="248" y="38"
                              text-anchor="end" fill="#4ade80"
                              font-size="12" font-family="'JetBrains Mono',monospace" opacity="0.85">I</text>
                    </svg>
                    <div class="circuit-caption">símbolo del diodo — conduce solo en polarización directa (A → K)</div>
                </div>
                <p>El <strong>diodo</strong> es una unión P-N semiconductor que actúa como válvula unidireccional. La
                    ecuación de Shockley describe su comportamiento:</p>
                <div class="math-block">$$ I_D = I_S\!\left(e^{V_D/(n V_T)} - 1\right) $$</div>
                <p>donde \( I_S \approx 10^{-12}\,\text{A} \) es la corriente de saturación inversa y \( V_T = kT/q
                    \approx 26\,\text{mV} \) a temperatura ambiente. Un diodo de silicio en polarización directa cae
                    aproximadamente <strong>0.7 V</strong>.</p>
                <div class="info-box">
                    <p>Los <strong>LEDs</strong> emiten fotones al recombinarse portadores de carga: caída de 1.8 V
                        (rojo) a 3.5 V (azul). Los diodos Zener se operan en polarización inversa a una tensión
                        estabilizada fija.</p>
                </div>
            </div>

            <div class="tab-panel" id="tab-transistor">
                <div class="badge-row">
                    <span class="badge green">BJT: Bipolar</span>
                    <span class="badge blue">MOSFET: Unipolar</span>
                </div>
                <p>En el <strong>BJT</strong>, una pequeña corriente de base \( I_B \) controla una corriente de
                    colector \( I_C \) mucho mayor:</p>
                <div class="math-block">$$ I_C = \beta\, I_B \qquad (\beta \approx 20\text{–}500) $$</div>
                <p>En el <strong>MOSFET</strong>, una tensión de compuerta \( V_{GS} \) controla la corriente de
                    drenaje. Los MOSFETs son la base de los procesadores modernos: un Apple M3 contiene ~25.000 millones
                    en apenas 146 mm², con canales de 3 nm — aproximadamente 15 átomos de silicio.</p>
                <div class="info-box accent">
                    <p>El transistor fue inventado en Bell Labs en 1947 por Bardeen, Brattain y Shockley, quienes
                        recibieron el Nobel de Física en 1956. Desde entonces, el número de transistores por chip se ha
                        duplicado aproximadamente cada dos años (<strong>Ley de Moore</strong>).</p>
                </div>
            </div>
        </div>

        <!-- 3. LEYES -->
        <div class="card" id="leyes">
            <div class="card-label">Leyes fundamentales</div>

            <h3>Ley de Ohm</h3>
            <p>Para un conductor óhmico (que obedece esta ley linealmente), la tensión, la corriente y la resistencia se
                relacionan por:</p>
            <div class="math-block">$$ V = I \cdot R \qquad \Longleftrightarrow \qquad I = \frac{V}{R} \qquad
                \Longleftrightarrow \qquad R = \frac{V}{I} $$</div>
            <div class="info-box">
                <p>Descubierta experimentalmente por Georg Simon Ohm en 1827. Es una ley <em>empírica</em> de primer
                    orden — no todos los materiales la obedecen: los semiconductores, los superconductores y los plasmas
                    tienen relaciones corriente-voltaje no lineales.</p>
            </div>

            <h3>Leyes de Kirchhoff</h3>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Ley</th>
                            <th>Enunciado</th>
                            <th>Ecuación</th>
                            <th>Principio físico</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>KCL</strong> — Ley de corrientes</td>
                            <td>La suma algebraica de corrientes en un nodo es cero</td>
                            <td>\(\displaystyle\sum_{k} I_k = 0\)</td>
                            <td>Conservación de la carga</td>
                        </tr>
                        <tr>
                            <td><strong>KVL</strong> — Ley de voltajes</td>
                            <td>La suma algebraica de caídas de voltaje en una malla cerrada es cero</td>
                            <td>\(\displaystyle\sum_{k} V_k = 0\)</td>
                            <td>Conservación de la energía</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Potencia eléctrica y energía</h3>
            <div class="math-block">$$ P = V \cdot I = I^2 R = \frac{V^2}{R} \qquad [W] $$</div>
            <div class="math-block">$$ E = P \cdot t = V \cdot I \cdot t \qquad [J = W \cdot s] $$</div>
            <div class="info-box amber">
                <p><strong>kWh vs Joule:</strong> la empresa eléctrica factura en kilowatt-hora. \( 1\,\text{kWh} = 3.6
                    \times 10^6\,\text{J} \). Una bombilla LED de 10 W encendida 1 hora consume 0.01 kWh.</p>
            </div>

            <h3>Ley de Joule — efecto térmico</h3>
            <p>El calor generado en una resistencia es proporcional al cuadrado de la corriente, la resistencia y el
                tiempo:</p>
            <div class="math-block">$$ Q = I^2 R\, t $$</div>
            <p>Este efecto se aprovecha en calefactores, planchas, fusibles y hornos de inducción. En cables de
                distribución es una pérdida que se minimiza usando altas tensiones (baja corriente) para el transporte.
            </p>
        </div>

        <!-- 4. SERIE Y PARALELO -->
        <div class="card" id="serie-paralelo">
            <div class="card-label">Circuitos en serie y en paralelo</div>

            <div class="tab-bar" id="topTabs">
                <button class="tab-btn active" data-tab="serie">En serie</button>
                <button class="tab-btn" data-tab="paralelo">En paralelo</button>
                <button class="tab-btn" data-tab="mixto">Mixto</button>
            </div>

            <div class="tab-panel active" id="tab-serie">
                <p>Cuando los componentes están en <strong>serie</strong>, la misma corriente fluye por todos. Las
                    tensiones se suman, y las resistencias también:</p>
                <div class="math-block">$$ I_1 = I_2 = \cdots = I_n \qquad V_{total} = \sum V_k \qquad R_{eq} = \sum R_k
                    $$</div>
                <div class="circuit-wrap">
                    <!--
                      CIRCUITO SERIE (viewBox 0 0 560 155):
                      ─── Geometría ───────────────────────────────────────
                      Riel superior:  y=52   Riel inferior: y=130
                      Batería:        cx=48, cy=91, r=22
                                      terminal +: (48,69) → cable a (48,52)
                                      terminal −: (48,113) → cable a (48,130)
                      Zigzags cy=52, amplitud=±17 → picos en y=35 y y=69
                      Etiquetas Rₙ:   y=24 (baseline, 11px sobre pico y=35)
                      ─────────────────────────────────────────────────────
                      R1: x=80..165    puntos: 80,52 90,52 100,35 116,69 132,35 148,69 158,52 165,52
                      R2: x=210..295   puntos: 210,52 220,52 230,35 246,69 262,35 278,69 288,52 295,52
                      R3: x=340..425   puntos: 340,52 350,52 360,35 376,69 392,35 408,69 418,52 425,52
                      Cables entre: (165→210), (295→340), (425→500)
                      Esquina dcha: (500,52)→(500,130)  Retorno: (500,130)→(48,130)
                      Flecha I: en cable libre x=440..490, triángulo punta en x=484
                    -->
                    <svg width="100%" viewBox="0 0 560 155" fill="none" xmlns="http://www.w3.org/2000/svg">

                        <!-- ── Batería (fuente de tensión) ── -->
                        <circle cx="48" cy="91" r="22" stroke="#4ade80" stroke-width="1.8" fill="#13141a"/>
                        <!-- + arriba, − abajo dentro del círculo -->
                        <text x="48" y="85" text-anchor="middle" fill="#4ade80"
                              font-size="15" font-weight="bold"
                              font-family="'JetBrains Mono',monospace">+</text>
                        <text x="48" y="101" text-anchor="middle" fill="#8b90a8"
                              font-size="15"
                              font-family="'JetBrains Mono',monospace">−</text>
                        <!-- Etiqueta Vs a la izquierda del círculo -->
                        <text x="22" y="95" text-anchor="end" fill="#8b90a8"
                              font-size="11" font-family="'JetBrains Mono',monospace">Vs</text>
                        <!-- Cables de la batería -->
                        <line x1="48" y1="69"  x2="48" y2="52"  stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="48" y1="113" x2="48" y2="130" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── Riel superior: cable izquierdo hasta R1 ── -->
                        <line x1="48" y1="52" x2="80" y2="52" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── R1: zigzag (cy=52, amp=17), x=80..165 ── -->
                        <polyline points="80,52 90,52 100,35 116,69 132,35 148,69 158,52 165,52"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <!-- Etiqueta R₁ centrada sobre el zigzag: xc=(90+158)/2=124, y=24 -->
                        <text x="124" y="24" text-anchor="middle" fill="#60a5fa"
                              font-size="13" font-family="'JetBrains Mono',monospace">R₁</text>

                        <!-- Cable entre R1 y R2 -->
                        <line x1="165" y1="52" x2="210" y2="52" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── R2: zigzag, x=210..295 ── -->
                        <polyline points="210,52 220,52 230,35 246,69 262,35 278,69 288,52 295,52"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <!-- Etiqueta R₂: xc=(220+288)/2=254 -->
                        <text x="254" y="24" text-anchor="middle" fill="#60a5fa"
                              font-size="13" font-family="'JetBrains Mono',monospace">R₂</text>

                        <!-- Cable entre R2 y R3 -->
                        <line x1="295" y1="52" x2="340" y2="52" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── R3: zigzag, x=340..425 ── -->
                        <polyline points="340,52 350,52 360,35 376,69 392,35 408,69 418,52 425,52"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <!-- Etiqueta R₃: xc=(350+418)/2=384 -->
                        <text x="384" y="24" text-anchor="middle" fill="#60a5fa"
                              font-size="13" font-family="'JetBrains Mono',monospace">R₃</text>

                        <!-- Cable derecho desde R3 hasta esquina -->
                        <line x1="425" y1="52" x2="500" y2="52" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── Flecha de corriente I en el cable libre (x=440..490) ── -->
                        <!-- Triángulo: punta en (484,52), base en x=470 -->
                        <polygon points="484,52 470,45 470,59" fill="#4ade80" opacity="0.75"/>
                        <text x="456" y="47" text-anchor="end" fill="#4ade80"
                              font-size="12" font-family="'JetBrains Mono',monospace" opacity="0.85">I</text>

                        <!-- ── Esquina derecha y retorno inferior ── -->
                        <line x1="500" y1="52"  x2="500" y2="130" stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="500" y1="130" x2="48"  y2="130" stroke="#4ade80" stroke-width="1.8"/>
                    </svg>
                    <div class="circuit-caption">circuito serie — misma corriente I recorre toda la malla</div>
                </div>
                <div class="info-box">
                    <p><strong>Caso práctico:</strong> los viejos adornos navideños de bombillas en serie se apagaban
                        todos si una fallaba — interrumpe el único camino de corriente. Los modernos van en paralelo.
                    </p>
                </div>
            </div>

            <div class="tab-panel" id="tab-paralelo">
                <p>Cuando los componentes están en <strong>paralelo</strong>, todos comparten el mismo voltaje. La
                    corriente se divide entre las ramas y la resistencia equivalente es menor que cualquier rama
                    individual:</p>
                <div class="math-block">$$ V_1 = V_2 = \cdots = V_n \qquad I_{total} = \sum I_k \qquad \frac{1}{R_{eq}}
                    = \sum \frac{1}{R_k} $$</div>
                <p>Para dos resistencias: \( R_{eq} = \dfrac{R_1 R_2}{R_1 + R_2} \) (producto sobre la suma).</p>
                <div class="circuit-wrap">
                    <!--
                      CIRCUITO PARALELO (viewBox 0 0 480 240):
                      ─── Geometría ───────────────────────────────────────
                      Riel superior:  y=30    Riel inferior: y=210
                      Riel izquierdo: x=52    Riel derecho:  x=440
                      Batería:        cx=52, cy=120, r=22
                                      terminal +: (52,98) → cable a (52,30)
                                      terminal −: (52,142) → cable a (52,210)
                      Tres ramas: cx=150, cx=265, cx=380
                      Cada rama:
                        Cable superior: (cx,30)→(cx,62)
                        Zigzag vertical: y=62..165, amplitude=±18 (puntos explicados abajo)
                        Cable inferior: (cx,165)→(cx,210)
                        Etiqueta: x=cx+24 (a la derecha del zigzag), y=113 (centro vertical)
                      Puntos de nodo (•) en cada T-junction del riel superior e inferior.
                      ─────────────────────────────────────────────────────
                      Zigzag vertical R1 (cx=150):
                        150,62  150,72  132,84  168,100  132,116  168,132  132,148  150,160  150,165
                      R2 (cx=265): mismos offsets
                      R3 (cx=380): mismos offsets
                    -->
                    <svg width="100%" viewBox="0 0 480 240" fill="none" xmlns="http://www.w3.org/2000/svg">

                        <!-- ── Batería ── -->
                        <circle cx="52" cy="120" r="22" stroke="#4ade80" stroke-width="1.8" fill="#13141a"/>
                        <text x="52" y="113" text-anchor="middle" fill="#4ade80"
                              font-size="15" font-weight="bold"
                              font-family="'JetBrains Mono',monospace">+</text>
                        <text x="52" y="129" text-anchor="middle" fill="#8b90a8"
                              font-size="15" font-family="'JetBrains Mono',monospace">−</text>
                        <!-- Etiqueta Vs -->
                        <text x="26" y="124" text-anchor="end" fill="#8b90a8"
                              font-size="11" font-family="'JetBrains Mono',monospace">Vs</text>
                        <!-- Cables de la batería al riel superior/inferior -->
                        <line x1="52" y1="98"  x2="52" y2="30"  stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="52" y1="142" x2="52" y2="210" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── Rieles superior e inferior ── -->
                        <line x1="52"  y1="30"  x2="440" y2="30"  stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="52"  y1="210" x2="440" y2="210" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Riel derecho de cierre -->
                        <line x1="440" y1="30"  x2="440" y2="210" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── Rama R1 (cx=150) ── -->
                        <!-- Punto de nodo superior -->
                        <circle cx="150" cy="30" r="4" fill="#4ade80"/>
                        <!-- Punto de nodo inferior -->
                        <circle cx="150" cy="210" r="4" fill="#4ade80"/>
                        <!-- Cable superior: riel → zigzag -->
                        <line x1="150" y1="30" x2="150" y2="62" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Zigzag vertical: entra en (150,62), sale en (150,165) -->
                        <!-- Puntos calculados: flat-in 10px → 4 picos alternados ±18 → flat-out -->
                        <polyline points="150,62 150,72 132,84 168,100 132,116 168,132 132,148 150,160 150,165"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <!-- Cable inferior: zigzag → riel -->
                        <line x1="150" y1="165" x2="150" y2="210" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Etiqueta R₁: a la derecha del zigzag (x=168+8=176), centrada en y=(72+160)/2=116 -->
                        <text x="178" y="120" text-anchor="start" fill="#60a5fa"
                              font-size="14" font-family="'JetBrains Mono',monospace">R₁</text>
                        <!-- Flecha de corriente: punta apuntando ABAJO en el cable superior, a y=50 -->
                        <polygon points="150,54 144,44 156,44" fill="#60a5fa" opacity="0.55"/>

                        <!-- ── Rama R2 (cx=265) ── -->
                        <circle cx="265" cy="30"  r="4" fill="#4ade80"/>
                        <circle cx="265" cy="210" r="4" fill="#4ade80"/>
                        <line x1="265" y1="30"  x2="265" y2="62"  stroke="#4ade80" stroke-width="1.8"/>
                        <polyline points="265,62 265,72 247,84 283,100 247,116 283,132 247,148 265,160 265,165"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <line x1="265" y1="165" x2="265" y2="210" stroke="#4ade80" stroke-width="1.8"/>
                        <text x="293" y="120" text-anchor="start" fill="#60a5fa"
                              font-size="14" font-family="'JetBrains Mono',monospace">R₂</text>
                        <polygon points="265,54 259,44 271,44" fill="#60a5fa" opacity="0.55"/>

                        <!-- ── Rama R3 (cx=380) ── -->
                        <circle cx="380" cy="30"  r="4" fill="#4ade80"/>
                        <circle cx="380" cy="210" r="4" fill="#4ade80"/>
                        <line x1="380" y1="30"  x2="380" y2="62"  stroke="#4ade80" stroke-width="1.8"/>
                        <polyline points="380,62 380,72 362,84 398,100 362,116 398,132 362,148 380,160 380,165"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <line x1="380" y1="165" x2="380" y2="210" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- R₃ a la derecha: x=398+8=406, SVG width=480, gap=74px ✓ -->
                        <text x="408" y="120" text-anchor="start" fill="#60a5fa"
                              font-size="14" font-family="'JetBrains Mono',monospace">R₃</text>
                        <polygon points="380,54 374,44 386,44" fill="#60a5fa" opacity="0.55"/>

                    </svg>
                    <div class="circuit-caption">circuito paralelo — mismo voltaje en cada rama, corriente dividida</div>
                </div>
            </div>

            <div class="tab-panel" id="tab-mixto">
                <p>La mayoría de los circuitos reales son <strong>mixtos</strong>. El método de análisis consiste en
                    simplificar iterativamente grupos en serie y en paralelo hasta obtener el circuito equivalente.
                    Luego se "expande" la solución para hallar cada corriente y voltaje.</p>
                <p><strong>Ejemplo:</strong> \( R_1 = 10\,\Omega \) en serie con el paralelo de \( R_2 = 6\,\Omega \) y
                    \( R_3 = 3\,\Omega \), con fuente de 24 V:</p>
                <div class="math-block">$$ R_{23} = \frac{6 \cdot 3}{6+3} = 2\,\Omega \qquad R_{total} = 10 + 2 =
                    12\,\Omega $$</div>
                <div class="math-block">$$ I_{total} = \frac{24}{12} = 2\,\text{A} \qquad V_{R_1} = 20\,\text{V} \qquad
                    V_{R_{23}} = 4\,\text{V} $$</div>
                <p>En R₂: \( I_2 = 4/6 \approx 0.67\,\text{A} \). En R₃: \( I_3 = 4/3 \approx 1.33\,\text{A} \).
                    Verificación KCL: \( 0.67 + 1.33 = 2\,\text{A} \checkmark \)</p>

                <div class="circuit-wrap">
                    <!--
                      CIRCUITO MIXTO (viewBox 0 0 540 215):
                      Riel sup y=45 / Riel inf y=185. Batería: cx=50,cy=115,r=22.
                      R1 horizontal (amber): x=82..168, cy=45, picos y=28/y=62. Label y=14.
                      Nodo izq paralelo: x=215. Nodo dcho paralelo: x=395.
                      R2 vertical (blue): cx=278, zigzag y=68..168. Label x=304, y=116.
                      R3 vertical (blue): cx=352, zigzag y=68..168. Label x=378, y=116.
                      Cierre: (395,45)→(490,45)→(490,185)→(395,185).
                      Retorno inferior: (215,185)→(50,185).
                    -->
                    <svg width="100%" viewBox="0 0 540 215" fill="none" xmlns="http://www.w3.org/2000/svg">

                        <!-- ── Batería ── -->
                        <circle cx="50" cy="115" r="22" stroke="#4ade80" stroke-width="1.8" fill="#13141a"/>
                        <text x="50" y="108" text-anchor="middle" fill="#4ade80"
                              font-size="15" font-weight="bold"
                              font-family="'JetBrains Mono',monospace">+</text>
                        <text x="50" y="124" text-anchor="middle" fill="#8b90a8"
                              font-size="15" font-family="'JetBrains Mono',monospace">−</text>
                        <text x="24" y="119" text-anchor="end" fill="#8b90a8"
                              font-size="11" font-family="'JetBrains Mono',monospace">24V</text>
                        <!-- Cables batería → rieles -->
                        <line x1="50" y1="93"  x2="50" y2="45"  stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="50" y1="137" x2="50" y2="185" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- Cable batería → R1 -->
                        <line x1="50" y1="45" x2="82" y2="45" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── R1 (serie, amber): cy=45, amp=17, x=82..168 ── -->
                        <!-- picos: y=28(↑), y=62(↓) — etiqueta baseline=14 (14px sobre pico y=28) -->
                        <polyline points="82,45 92,45 102,28 118,62 134,28 150,62 160,45 168,45"
                                  stroke="#f59e0b" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <!-- xc=(92+160)/2=126 -->
                        <text x="126" y="14" text-anchor="middle" fill="#f59e0b"
                              font-size="12" font-family="'JetBrains Mono',monospace">R₁ = 10 Ω</text>

                        <!-- Cable R1 → nodo izq paralelo -->
                        <line x1="168" y1="45" x2="215" y2="45" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── Nodos de bifurcación ── -->
                        <circle cx="215" cy="45"  r="5" fill="#4ade80"/>
                        <circle cx="215" cy="185" r="5" fill="#4ade80"/>
                        <circle cx="395" cy="45"  r="5" fill="#4ade80"/>
                        <circle cx="395" cy="185" r="5" fill="#4ade80"/>

                        <!-- Buses superior e inferior del bloque paralelo -->
                        <line x1="215" y1="45"  x2="395" y2="45"  stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="215" y1="185" x2="395" y2="185" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- ── Rama R2 (cx=278, vertical, blue) ── -->
                        <circle cx="278" cy="45"  r="5" fill="#4ade80"/>
                        <circle cx="278" cy="185" r="5" fill="#4ade80"/>
                        <line x1="278" y1="45"  x2="278" y2="68"  stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Zigzag: flat-in (68→78), 4 picos alternados ±18, flat-out (160→168) -->
                        <polyline points="278,68 278,78 260,90 296,106 260,122 296,138 260,154 278,162 278,168"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <line x1="278" y1="168" x2="278" y2="185" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Etiqueta derecha del zigzag (pico dcho=296+8=304), centro y=(78+162)/2=120 -->
                        <text x="304" y="116" text-anchor="start" fill="#60a5fa"
                              font-size="12" font-family="'JetBrains Mono',monospace">R₂ = 6 Ω</text>

                        <!-- ── Rama R3 (cx=352, vertical, blue) ── -->
                        <circle cx="352" cy="45"  r="5" fill="#4ade80"/>
                        <circle cx="352" cy="185" r="5" fill="#4ade80"/>
                        <line x1="352" y1="45"  x2="352" y2="68"  stroke="#4ade80" stroke-width="1.8"/>
                        <polyline points="352,68 352,78 334,90 370,106 334,122 370,138 334,154 352,162 352,168"
                                  stroke="#60a5fa" stroke-width="2.4" stroke-linejoin="round" fill="none"/>
                        <line x1="352" y1="168" x2="352" y2="185" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Etiqueta derecha del zigzag (pico dcho=370+8=378), centro y=120 -->
                        <text x="378" y="116" text-anchor="start" fill="#60a5fa"
                              font-size="12" font-family="'JetBrains Mono',monospace">R₃ = 3 Ω</text>

                        <!-- ── Cierre del circuito (lado derecho) ── -->
                        <line x1="395" y1="45"  x2="490" y2="45"  stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="490" y1="45"  x2="490" y2="185" stroke="#4ade80" stroke-width="1.8"/>
                        <line x1="490" y1="185" x2="395" y2="185" stroke="#4ade80" stroke-width="1.8"/>
                        <!-- Retorno inferior hasta batería -->
                        <line x1="215" y1="185" x2="50"  y2="185" stroke="#4ade80" stroke-width="1.8"/>

                        <!-- Flecha corriente total en tramo libre derecho -->
                        <polygon points="478,45 464,38 464,52" fill="#4ade80" opacity="0.75"/>
                        <text x="460" y="40" text-anchor="end" fill="#4ade80"
                              font-size="12" font-family="'JetBrains Mono',monospace" opacity="0.85">I</text>

                    </svg>
                    <div class="circuit-caption">circuito mixto — R₁ en serie con la combinación paralela R₂ ∥ R₃</div>
                </div>
            </div>
        </div>

        <!-- 5. SIMULADOR -->
        <div class="card" id="simulador">
            <div class="card-label">Simulador interactivo — Ley de Ohm</div>
            <p>Introduce dos de las tres magnitudes principales (V, I, R) y la tercera se calcula automáticamente. Deja
                en blanco el campo que quieres obtener.</p>

            <div class="sim-wrap">
                <div class="sim-controls">
                    <div class="sim-field">
                        <div class="sim-label">Voltaje V</div>
                        <input class="sim-input" id="simV" type="number" step="0.01" placeholder="voltios (V)">
                    </div>
                    <div class="sim-field">
                        <div class="sim-label">Corriente I</div>
                        <input class="sim-input" id="simI" type="number" step="0.001" placeholder="amperes (A)">
                    </div>
                    <div class="sim-field">
                        <div class="sim-label">Resistencia R</div>
                        <input class="sim-input" id="simR" type="number" step="0.1" placeholder="ohms (Ω)">
                    </div>
                    <div class="sim-field">
                        <div class="sim-label">Potencia P (calculada)</div>
                        <input class="sim-input" id="simP" type="text" placeholder="watts (W)" readonly>
                    </div>
                </div>
                <div class="sim-status" id="simStatus">Introduce al menos dos valores para calcular</div>
            </div>
        </div>

        <!-- 6. COMPUERTAS -->
        <div class="card" id="compuertas">
            <div class="card-label">Compuertas lógicas</div>
            <p>La electrónica digital representa toda la información como combinaciones de dos estados:
                <strong>ALTO</strong> (1, ~3–5 V) y <strong>BAJO</strong> (0, ~0 V). Las <em>compuertas lógicas</em> son
                circuitos (implementados con transistores MOSFET) que realizan operaciones del álgebra de Boole sobre
                estas señales.</p>

            <div class="tab-bar" id="gateTabs">
                <button class="tab-btn active" data-tab="gate-and">AND</button>
                <button class="tab-btn" data-tab="gate-or">OR</button>
                <button class="tab-btn" data-tab="gate-not">NOT</button>
                <button class="tab-btn" data-tab="gate-nand">NAND</button>
                <button class="tab-btn" data-tab="gate-nor">NOR</button>
                <button class="tab-btn" data-tab="gate-xor">XOR</button>
                <button class="tab-btn" data-tab="gate-xnor">XNOR</button>
            </div>

            <div class="tab-panel active" id="tab-gate-and">
                <div class="badge-row"><span class="badge green">AND · Conjunción</span><span class="badge">A · B</span>
                </div>
                <p>La salida es <strong>1 únicamente si todas las entradas son 1</strong>. Se usa en máscaras de bits,
                    control de condiciones simultáneas, señales de habilitación.</p>
                <div class="math-block">$$ Y = A \cdot B $$</div>
                <div class="table-wrap">
                    <table>
                        <caption>Tabla de verdad — AND</caption>
                        <thead>
                            <tr>
                                <th class="tc">A</th>
                                <th class="tc">B</th>
                                <th class="tc">Y = A·B</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-panel" id="tab-gate-or">
                <div class="badge-row"><span class="badge blue">OR · Disyunción</span><span class="badge">A + B</span>
                </div>
                <p>La salida es <strong>1 si al menos una entrada es 1</strong>. Implementa el "o lógico". Útil en
                    detección de cualquier evento, combinación de condiciones alternativas.</p>
                <div class="math-block">$$ Y = A + B $$</div>
                <div class="table-wrap">
                    <table>
                        <caption>Tabla de verdad — OR</caption>
                        <thead>
                            <tr>
                                <th class="tc">A</th>
                                <th class="tc">B</th>
                                <th class="tc">Y = A+B</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-panel" id="tab-gate-not">
                <div class="badge-row"><span class="badge amber">NOT · Inversor</span><span class="badge">Ā</span></div>
                <p>Operación unaria: <strong>invierte el estado</strong> de la entrada. Es la compuerta más simple y
                    fundamental. Toda la lógica digital puede construirse a partir de NOTs + ANDs (o sólo NANDs).</p>
                <div class="math-block">$$ Y = \overline{A} $$</div>
                <div class="table-wrap">
                    <table>
                        <caption>Tabla de verdad — NOT</caption>
                        <thead>
                            <tr>
                                <th class="tc">A</th>
                                <th class="tc">Y = Ā</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-panel" id="tab-gate-nand">
                <div class="badge-row"><span class="badge red">NAND · Universal</span><span class="badge">̄(A·B)</span>
                </div>
                <p>NAND es una AND seguida de un inversor. Es la <strong>compuerta universal</strong>: cualquier función
                    lógica puede implementarse usando sólo NANDs. Esto simplifica la fabricación de chips.</p>
                <div class="math-block">$$ Y = \overline{A \cdot B} $$</div>
                <div class="table-wrap">
                    <table>
                        <caption>Tabla de verdad — NAND</caption>
                        <thead>
                            <tr>
                                <th class="tc">A</th>
                                <th class="tc">B</th>
                                <th class="tc">Y</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-panel" id="tab-gate-nor">
                <div class="badge-row"><span class="badge red">NOR · Universal</span><span class="badge">̄(A+B)</span>
                </div>
                <p>NOR es una OR seguida de un inversor. También es <strong>universalmente completa</strong>. Fue
                    preferida en tecnologías RTL (Resistor-Transistor Logic) tempranas.</p>
                <div class="math-block">$$ Y = \overline{A + B} $$</div>
                <div class="table-wrap">
                    <table>
                        <caption>Tabla de verdad — NOR</caption>
                        <thead>
                            <tr>
                                <th class="tc">A</th>
                                <th class="tc">B</th>
                                <th class="tc">Y</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-panel" id="tab-gate-xor">
                <div class="badge-row"><span class="badge blue">XOR · OR exclusivo</span><span class="badge">A ⊕
                        B</span></div>
                <p>La salida es 1 si las entradas son <strong>diferentes</strong>. Esencial en sumadores binarios (1+1 =
                    0 con acarreo 1) y en detección de paridad y criptografía.</p>
                <div class="math-block">$$ Y = A \oplus B = A\overline{B} + \overline{A}B $$</div>
                <div class="table-wrap">
                    <table>
                        <caption>Tabla de verdad — XOR</caption>
                        <thead>
                            <tr>
                                <th class="tc">A</th>
                                <th class="tc">B</th>
                                <th class="tc">Y = A⊕B</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-panel" id="tab-gate-xnor">
                <div class="badge-row"><span class="badge">XNOR · Equivalencia</span><span class="badge">A ⊙ B</span>
                </div>
                <p>La salida es 1 si las entradas son <strong>iguales</strong>. Es el complemento de XOR. Se usa para
                    detectar igualdad entre señales y en verificación de paridad.</p>
                <div class="math-block">$$ Y = \overline{A \oplus B} = AB + \overline{A}\,\overline{B} $$</div>
                <div class="table-wrap">
                    <table>
                        <caption>Tabla de verdad — XNOR</caption>
                        <thead>
                            <tr>
                                <th class="tc">A</th>
                                <th class="tc">B</th>
                                <th class="tc">Y</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                            <tr>
                                <td class="tc">0</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">0</td>
                                <td class="tc" style="color:var(--txt3)">0</td>
                            </tr>
                            <tr>
                                <td class="tc">1</td>
                                <td class="tc">1</td>
                                <td class="tc" style="color:var(--accent)"><strong>1</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <hr>
            <h3>Resumen comparativo</h3>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Compuerta</th>
                            <th>Expresión</th>
                            <th>Salida = 1 cuando…</th>
                            <th>Universal</th>
                            <th>Uso típico</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>AND</strong></td>
                            <td>\(A \cdot B\)</td>
                            <td>Todas las entradas = 1</td>
                            <td class="tc">—</td>
                            <td>Habilitación, máscaras</td>
                        </tr>
                        <tr>
                            <td><strong>OR</strong></td>
                            <td>\(A + B\)</td>
                            <td>Al menos una = 1</td>
                            <td class="tc">—</td>
                            <td>Detección de eventos</td>
                        </tr>
                        <tr>
                            <td><strong>NOT</strong></td>
                            <td>\(\overline{A}\)</td>
                            <td>Entrada = 0</td>
                            <td class="tc">—</td>
                            <td>Inversión, complemento</td>
                        </tr>
                        <tr>
                            <td><strong>NAND</strong></td>
                            <td>\(\overline{A \cdot B}\)</td>
                            <td>No todas las entradas = 1</td>
                            <td class="tc" style="color:var(--accent)">✓</td>
                            <td>Universal (todo)</td>
                        </tr>
                        <tr>
                            <td><strong>NOR</strong></td>
                            <td>\(\overline{A + B}\)</td>
                            <td>Todas las entradas = 0</td>
                            <td class="tc" style="color:var(--accent)">✓</td>
                            <td>Universal (todo)</td>
                        </tr>
                        <tr>
                            <td><strong>XOR</strong></td>
                            <td>\(A \oplus B\)</td>
                            <td>Entradas diferentes</td>
                            <td class="tc">—</td>
                            <td>Suma, paridad, cripto</td>
                        </tr>
                        <tr>
                            <td><strong>XNOR</strong></td>
                            <td>\(\overline{A \oplus B}\)</td>
                            <td>Entradas iguales</td>
                            <td class="tc">—</td>
                            <td>Comparadores</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 7. AC -->
        <div class="card" id="ac">
            <div class="card-label">Corriente alterna — AC</div>
            <p>La corriente <strong>alterna (AC)</strong> invierte su sentido periódicamente. La gran mayoría de los
                sistemas de distribución eléctrica usan AC, y por una razón fundamental: los <em>transformadores</em>
                solo funcionan en AC y permiten elevar la tensión para transmitir energía con mínimas pérdidas.</p>

            <h3>La señal sinusoidal</h3>
            <div class="math-block">$$ v(t) = V_p \sin(\omega t + \phi) = V_p \sin(2\pi f t + \phi) $$</div>
            <p>donde \( V_p \) es la tensión pico, \( f \) la frecuencia (Hz), \( \omega = 2\pi f \) la frecuencia
                angular (rad/s) y \( \phi \) la fase inicial.</p>

            <div class="feature-grid">
                <div class="feature-cell">
                    <div class="fc-label">Frecuencia (América)</div>
                    <div class="fc-value">60 Hz</div>
                    <div class="fc-sub">Período = 16.7 ms</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Frecuencia (Europa)</div>
                    <div class="fc-value">50 Hz</div>
                    <div class="fc-sub">Período = 20 ms</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Tensión doméstica RMS</div>
                    <div class="fc-value">220–240 V</div>
                    <div class="fc-sub">Europa; 110 V en Norteamérica</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Tensión pico (220 V RMS)</div>
                    <div class="fc-value">≈ 311 V</div>
                    <div class="fc-sub">\(V_p = 220\sqrt{2}\)</div>
                </div>
            </div>

            <h3>Valor eficaz (RMS)</h3>
            <p>El valor RMS (Root Mean Square) es el valor DC equivalente en potencia. Para una sinusoide perfecta:</p>
            <div class="math-block">$$ V_{rms} = \frac{V_p}{\sqrt{2}} \approx 0.707\,V_p \qquad P_{media} =
                \frac{V_{rms}^2}{R} $$</div>

            <h3>Impedancia — la resistencia generalizada</h3>
            <p>En AC, la oposición al paso de corriente depende de la frecuencia. La <strong>impedancia</strong> \( Z \)
                generaliza la resistencia al dominio complejo:</p>
            <div class="math-block">$$ Z_R = R \qquad Z_C = \frac{1}{j\omega C} \qquad Z_L = j\omega L \qquad V = Z
                \cdot I $$</div>
            <p>La parte imaginaria de \( Z \) es la <em>reactancia</em>. Un capacitor tiene reactancia negativa (la
                corriente adelanta al voltaje en 90°); un inductor tiene reactancia positiva (la corriente atrasa al
                voltaje en 90°).</p>
            <div class="info-box blue">
                <p><strong>Factor de potencia:</strong> en circuitos AC con reactancia, la potencia aparente \( S =
                    V_{rms} I_{rms} \) difiere de la potencia real \( P = S\cos\phi \), donde \( \phi \) es el ángulo
                    entre voltaje y corriente. Las empresas eléctricas penalizan factores de potencia bajos (cargas muy
                    inductivas sin compensar).</p>
            </div>
        </div>

        <!-- 8. SEGURIDAD -->
        <div class="card" id="seguridad">
            <div class="card-label">Seguridad eléctrica</div>
            <p>La electricidad es peligrosa no por el voltaje sino por la <strong>corriente que circula a través del
                    cuerpo</strong>. La resistencia corporal varía: piel seca ~10.000–100.000 Ω, piel húmeda ~1.000 Ω,
                tejido interno ~300 Ω.</p>

            <div class="safety-meter">
                <p style="font-size:13px;color:var(--txt2);margin-bottom:14px;">Efectos fisiológicos de la corriente AC
                    (60 Hz) a través del tórax:</p>
                <div class="safety-bar-wrap">
                    <div class="safety-bar-label"><span>1 mA — Umbral de percepción (hormigueo leve)</span><span
                            style="color:var(--accent)">1 mA</span></div>
                    <div class="safety-bar">
                        <div class="safety-bar-fill" style="width:2%;background:var(--accent)"></div>
                    </div>
                </div>
                <div class="safety-bar-wrap">
                    <div class="safety-bar-label"><span>5–10 mA — Calambres musculares dolorosos</span><span
                            style="color:#86efac">10 mA</span></div>
                    <div class="safety-bar">
                        <div class="safety-bar-fill" style="width:10%;background:#86efac"></div>
                    </div>
                </div>
                <div class="safety-bar-wrap">
                    <div class="safety-bar-label"><span>10–20 mA — No puede soltar el conductor ("let-go
                            current")</span><span style="color:var(--accent3)">20 mA</span></div>
                    <div class="safety-bar">
                        <div class="safety-bar-fill" style="width:20%;background:var(--accent3)"></div>
                    </div>
                </div>
                <div class="safety-bar-wrap">
                    <div class="safety-bar-label"><span>50–100 mA — Fibrilación ventricular, probable muerte</span><span
                            style="color:#fb923c">100 mA</span></div>
                    <div class="safety-bar">
                        <div class="safety-bar-fill" style="width:60%;background:#fb923c"></div>
                    </div>
                </div>
                <div class="safety-bar-wrap">
                    <div class="safety-bar-label"><span>&gt; 200 mA — Paro cardíaco, quemaduras severas</span><span
                            style="color:var(--red)">200+ mA</span></div>
                    <div class="safety-bar">
                        <div class="safety-bar-fill" style="width:100%;background:var(--red)"></div>
                    </div>
                </div>
            </div>

            <div class="info-box red">
                <p><strong>Dato crítico:</strong> la corriente que detona fibrilación ventricular es ~50–100 mA — menos
                    de una décima de ampere. A 220 V con piel húmeda (1 kΩ): \( I = 220/1000 = 220\,\text{mA} \) — muy
                    por encima del umbral letal. El límite no es la red, sino la resistencia del cuerpo.</p>
            </div>

            <div class="table-wrap">
                <table>
                    <caption>Umbrales de seguridad eléctrica — corriente AC 60 Hz</caption>
                    <thead>
                        <tr>
                            <th>Corriente</th>
                            <th>Efecto fisiológico</th>
                            <th>Nivel de riesgo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>&lt; 1 mA</td>
                            <td>Imperceptible</td>
                            <td style="color:var(--accent)">Seguro</td>
                        </tr>
                        <tr>
                            <td>1 – 5 mA</td>
                            <td>Percepción, hormigueo</td>
                            <td style="color:#86efac">Leve</td>
                        </tr>
                        <tr>
                            <td>5 – 10 mA</td>
                            <td>Dolor, calambres musculares</td>
                            <td style="color:var(--accent3)">Moderado</td>
                        </tr>
                        <tr>
                            <td>10 – 20 mA</td>
                            <td>Contracción intensa, incapacidad de soltar</td>
                            <td style="color:#fb923c">Peligroso</td>
                        </tr>
                        <tr>
                            <td>20 – 100 mA</td>
                            <td>Insuficiencia respiratoria, fibrilación ventricular</td>
                            <td style="color:var(--red)">Muy peligroso</td>
                        </tr>
                        <tr>
                            <td>&gt; 100 mA</td>
                            <td>Paro cardíaco, quemaduras, muerte</td>
                            <td style="color:var(--red)"><strong>Fatal</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Dispositivos de protección</h3>
            <div class="feature-grid">
                <div class="feature-cell">
                    <div class="fc-label">Fusible</div>
                    <div class="fc-value">Se funde al superar la corriente nominal, abriendo el circuito.</div>
                    <div class="fc-sub">De un solo uso.</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Disyuntor (breaker)</div>
                    <div class="fc-value">Detecta sobrecargas y cortocircuitos. Rearme manual.</div>
                    <div class="fc-sub">Más práctico que el fusible.</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">GFCI / Diferencial</div>
                    <div class="fc-value">Detecta diferencias &gt;5 mA entre fase y neutro (fuga).</div>
                    <div class="fc-sub">Actúa en milisegundos.</div>
                </div>
                <div class="feature-cell">
                    <div class="fc-label">Puesta a tierra</div>
                    <div class="fc-value">Conecta carcasas metálicas a tierra. La corriente de falla va a tierra, no a
                        la persona.</div>
                </div>
            </div>
        </div>

        <!-- 9. FILOSOFÍA -->
        <div class="card" id="filosofia">
            <div class="card-label">Filosofía de la ciencia eléctrica</div>

            <h3>¿Cómo sé que mis cálculos coincidirán con la medición?</h3>
            <p>Esta es quizás la pregunta más profunda de la física aplicada. Los modelos matemáticos que usamos —la ley
                de Ohm, las leyes de Kirchhoff— son <em>idealizaciones</em>. Un resistor real no obedece \( V = IR \)
                perfectamente: tiene inductancia parásita, capacitancia parásita, su valor cambia con la temperatura, y
                deja de ser óhmico a campos muy altos.</p>
            <p>La respuesta más honesta es que nuestros modelos son <strong>mapas, no el territorio</strong>. Funcionan
                porque:</p>
            <ol>
                <li style="margin-bottom:8px"><strong>Representan la física subyacente a buen nivel de
                        aproximación.</strong> La ley de Ohm se deriva de la ecuación de Drude para electrones libres en
                    un metal, que a su vez surge de la mecánica cuántica estadística. No es magia: tiene fundamento
                    microscópico.</li>
                <li style="margin-bottom:8px"><strong>Operamos en rangos donde la aproximación es excelente.</strong>
                    Para frecuencias bajas y componentes mucho menores que la longitud de onda, los modelos concentrados
                    (Kirchhoff) son exactos en la práctica.</li>
                <li><strong>El sistema completo se valida cuando predice fenómenos nuevos que se observan.</strong> Hay
                    una circularidad parcial — el voltímetro fue diseñado asumiendo la ley de Ohm — pero la validez se
                    establece cuando el modelo predice efectos no contemplados en su construcción.</li>
            </ol>

            <div class="info-box blue">
                <p><strong>El problema de la inducción (Hume):</strong> ¿por qué funciona \( V=IR \) hoy si solo lo
                    hemos verificado en el pasado? No hay garantía lógica absoluta. La física adopta la postura
                    pragmática: un modelo es válido mientras sus predicciones sean correctas dentro de su dominio de
                    aplicabilidad. Cuando falla — como la física clásica a escala atómica — lo extendemos con uno mejor
                    (mecánica cuántica).</p>
            </div>

            <h3>¿Qué es realmente el voltaje?</h3>
            <p>El voltaje es el <em>potencial eléctrico</em> — la energía por unidad de carga necesaria para mover una
                carga de prueba entre dos puntos. El voltaje absoluto no tiene significado físico; solo lo tienen las
                <em>diferencias</em> de potencial. Por eso siempre se mide entre dos puntos, y "tierra" (0 V) es
                simplemente una referencia de convención.</p>
            <div class="math-block">$$ V_{AB} = V_A - V_B = -\int_A^B \vec{E}\cdot d\vec{l} $$</div>

            <h3>¿Por qué la ley de Ohm es una ley y no un axioma?</h3>
            <p>La ley de Ohm es <em>empírica</em>: Georg Ohm la descubrió experimentalmente en 1827 midiendo tensiones y
                corrientes en alambres. No se postuló a priori. Lo notable es que funciona para una enorme variedad de
                materiales — pero no para todos. Los semiconductores, superconductores, electrolitos y plasmas no
                obedecen \( V = IR \) lineal. La ley de Ohm es la descripción lineal de primer orden de la respuesta
                eléctrica de la materia.</p>

            <h3>Cuando el modelo ya no alcanza: las ecuaciones de Maxwell</h3>
            <p>Las leyes de Kirchhoff son una aproximación de las ecuaciones de Maxwell para frecuencias bajas y tamaños
                pequeños en comparación con la longitud de onda. En RF y microondas, la propagación importa y se
                necesita la teoría completa de líneas de transmisión. A escala atómica, se necesita la electrodinámica
                cuántica (QED). Cada nivel de abstracción es válido dentro de su dominio:</p>
            <div class="math-block">$$ \nabla \cdot \vec{E} = \frac{\rho}{\varepsilon_0} \qquad \nabla \times \vec{B} =
                \mu_0 \vec{J} + \mu_0\varepsilon_0\frac{\partial \vec{E}}{\partial t} $$</div>
        </div>

        <!-- 10. PREGUNTAS -->
        <div class="card" id="preguntas">
            <div class="card-label">Preguntas curiosas respondidas</div>

            <div class="question-block" id="q1">
                <div class="qb-header" onclick="toggleQ('q1')">
                    <span class="qb-title">¿Cómo funciona la corriente que llega hasta mi casa?</span>
                    <span class="qb-arrow">▶</span>
                </div>
                <div class="qb-body">
                    <p><strong>1. Generación.</strong> En una central (hidroeléctrica, térmica, eólica, nuclear), un
                        alternador convierte energía mecánica en AC, a tensiones de 10–25 kV.</p>
                    <p><strong>2. Transmisión.</strong> Transformadores elevan la tensión a 110–765 kV. Dado que \(
                        P_{pérdida} = I^2 R \), al elevar la tensión se reduce la corriente y las pérdidas caen
                        cuadráticamente. Los transformadores solo funcionan en AC — esta fue la razón fundamental por la
                        que AC ganó la "guerra de las corrientes" contra Edison.</p>
                    <p><strong>3. Distribución.</strong> En subestaciones cercanas a las ciudades, transformadores
                        rebajan a 13.8 kV y luego, en transformadores de poste, a los 220 V (o 110 V) que usa tu hogar.
                        Lo que sale del tomacorriente es AC sinusoidal a 50 o 60 Hz. Tus cargadores y computadoras
                        contienen convertidores internos que rectifican y regulan esa AC para producir las tensiones DC
                        que necesitan sus circuitos.</p>
                </div>
            </div>

            <div class="question-block" id="q2">
                <div class="qb-header" onclick="toggleQ('q2')">
                    <span class="qb-title">¿Por qué una pila de 9 V no me electrocuta?</span>
                    <span class="qb-arrow">▶</span>
                </div>
                <div class="qb-body">
                    <p>Por la ley de Ohm. Con piel seca (~10.000 Ω):</p>
                    <div class="math-block">$$ I = \frac{9\,\text{V}}{10{,}000\,\Omega} = 0.9\,\text{mA} $$</div>
                    <p>Eso está por debajo del umbral de percepción. Si lames los contactos de una pila de 9 V (saliva
                        tiene menor resistencia, ~300 Ω), sentirás un hormigueo desagradable — pero no es peligroso. El
                        problema con 220 V es que la corriente resultante supera los 100 mA incluso con piel seca, en
                        zona letal. Además, las pilas tienen resistencia interna y capacidad de corriente limitada (~1–2
                        A máximo antes de que su voltaje colapse).</p>
                </div>
            </div>

            <div class="question-block" id="q3">
                <div class="qb-header" onclick="toggleQ('q3')">
                    <span class="qb-title">¿Por qué los pájaros en un cable de alta tensión no mueren?</span>
                    <span class="qb-arrow">▶</span>
                </div>
                <div class="qb-body">
                    <p>La corriente solo fluye si existe una <em>diferencia de potencial</em> entre dos puntos
                        conectados por el cuerpo. Un pájaro posado en un solo cable tiene ambas patas en el mismo
                        potencial — separadas apenas centímetros con diferencia de voltaje despreciable. El problema
                        ocurre cuando toca dos cables simultáneamente, o un cable y tierra a la vez. Entonces completa
                        un circuito con diferencias de potencial de miles de voltios.</p>
                </div>
            </div>

            <div class="question-block" id="q4">
                <div class="qb-header" onclick="toggleQ('q4')">
                    <span class="qb-title">¿Cómo "sabe" la electricidad cuánta corriente mandar?</span>
                    <span class="qb-arrow">▶</span>
                </div>
                <div class="qb-body">
                    <p>En realidad, no "sabe" nada: la distribución de corriente emerge de la física del campo
                        electromagnético. Cuando conectas un circuito, se establece un campo eléctrico en todo él
                        (proporcional al gradiente de potencial), y los electrones se mueven en respuesta a ese campo.
                        La corriente en cada rama resulta de resolver simultáneamente KCL y KVL con la ley de Ohm — es
                        física determinista, no hay "decisión".</p>
                    <p>Es tentador pensar que los electrones "eligen" el camino de menor resistencia, pero en realidad
                        fluyen por <em>todos los caminos</em> simultáneamente, con más corriente donde hay menos
                        resistencia — exactamente como predice la ley de Ohm.</p>
                </div>
            </div>

            <div class="question-block" id="q5">
                <div class="qb-header" onclick="toggleQ('q5')">
                    <span class="qb-title">¿Por qué DC no reemplazó a AC en la distribución?</span>
                    <span class="qb-arrow">▶</span>
                </div>
                <div class="qb-body">
                    <p>Este fue el debate histórico de la "guerra de las corrientes" (Edison vs. Tesla/Westinghouse,
                        ~1880-1890). AC ganó por los <strong>transformadores</strong>: eleva o reduce tensiones AC con
                        eficiencia &gt;98% sin partes móviles. No existe un equivalente práctico para DC de la época. Al
                        elevar la tensión, la corriente cae y las pérdidas \( I^2R \) disminuyen cuadráticamente.</p>
                    <p>Hoy, sin embargo, la tecnología HVDC (High Voltage Direct Current) sí se usa para líneas muy
                        largas y cables submarinos, donde AC tiene desventajas por capacitancia parásita. Los
                        convertidores AC↔DC basados en semiconductores de potencia hacen esto económicamente viable.</p>
                </div>
            </div>

            <div class="question-block" id="q6">
                <div class="qb-header" onclick="toggleQ('q6')">
                    <span class="qb-title">¿Qué tan rápido viajan los electrones en un cable?</span>
                    <span class="qb-arrow">▶</span>
                </div>
                <div class="qb-body">
                    <p>Sorprendentemente lento: del orden de milímetros por hora. Para un cable de cobre de 1 mm²
                        conduciendo 1 A:</p>
                    <div class="math-block">$$ v_d = \frac{I}{n\,q\,A} \approx \frac{1}{8.5\times10^{28} \times
                        1.6\times10^{-19} \times 10^{-6}} \approx 7 \times 10^{-5}\,\text{m/s} $$</div>
                    <p>Eso es unos 25 cm por hora. ¿Por qué entonces la luz se enciende instantáneamente? Porque lo que
                        se propaga casi a la velocidad de la luz no son los electrones, sino la <em>perturbación del
                            campo electromagnético</em>. Es como una manguera llena de agua: cuando abres el grifo, el
                        agua al otro extremo sale casi de inmediato, aunque las moléculas individuales avancen
                        lentamente. El "empuje" se transmite a velocidades cercanas a c.</p>
                </div>
            </div>

            <div class="question-block" id="q7">
                <div class="qb-header" onclick="toggleQ('q7')">
                    <span class="qb-title">¿Cuáles son exactamente los umbrales de seguridad para un humano?</span>
                    <span class="qb-arrow">▶</span>
                </div>
                <div class="qb-body">
                    <p>Los umbrales dependen de la corriente (no el voltaje), la frecuencia, la duración y el camino
                        recorrido. Los valores más peligrosos son mano-mano cruzando el tórax donde está el corazón.</p>
                    <ul>
                        <li><strong>~1 mA:</strong> umbral de percepción — hormigueo leve.</li>
                        <li><strong>~10 mA:</strong> "corriente de no-soltar" — músculos se contraen, la persona no
                            puede soltar el conductor.</li>
                        <li><strong>~50 mA:</strong> riesgo de fibrilación ventricular con exposición &gt;1 segundo.
                        </li>
                        <li><strong>~100 mA:</strong> fibrilación prácticamente segura; paro cardíaco.</li>
                        <li><strong>&gt;1 A:</strong> paro cardíaco por contracción total; quemaduras eléctricas
                            internas graves.</li>
                    </ul>
                    <p>Paradójicamente, una corriente de varios amperios (como la de un desfibrilador: ~360 J) puede
                        <em>restablecer</em> el ritmo cardíaco despolarizando simultáneamente todas las células para que
                        el marcapasos natural retome el control.</p>
                    <p><strong>Voltaje seguro:</strong> tensiones por debajo de 50 V AC o 120 V DC se consideran
                        "extra-baja tensión de seguridad" (SELV) con piel intacta en ambiente seco.</p>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Sidenav
        const sidenav = document.getElementById('sidenav');
        const toggle = document.getElementById('snavToggle');
        const openBtn = document.getElementById('snavOpen');
        const overlay = document.getElementById('snavOverlay');

        toggle.addEventListener('click', () => {
            sidenav.classList.toggle('collapsed');
            toggle.innerHTML = sidenav.classList.contains('collapsed') ? '&#10095;' : '&#10094;';
        });
        openBtn.addEventListener('click', () => { sidenav.classList.add('open'); overlay.classList.add('active'); });
        overlay.addEventListener('click', () => { sidenav.classList.remove('open'); overlay.classList.remove('active'); });

        // Generic tab system
        function setupTabs(barId) {
            const bar = document.getElementById(barId);
            if (!bar) return;
            bar.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    bar.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    const card = bar.closest('.card');
                    card.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
                    const panel = card.querySelector('#tab-' + btn.dataset.tab);
                    if (panel) panel.classList.add('active');
                });
            });
        }
        ['compTabs', 'topTabs', 'gateTabs'].forEach(setupTabs);

        // Question blocks
        function toggleQ(id) { document.getElementById(id).classList.toggle('open'); }

        // Ohm simulator
        const simV = document.getElementById('simV');
        const simI = document.getElementById('simI');
        const simR = document.getElementById('simR');
        const simP = document.getElementById('simP');
        const simStatus = document.getElementById('simStatus');

        function fmtNum(n) {
            if (n === 0) return '0';
            const a = Math.abs(n);
            if (a >= 1e6) return (n / 1e6).toFixed(4) + ' M';
            if (a >= 1e3) return (n / 1e3).toFixed(4) + ' k';
            if (a < 1e-3) return (n * 1e6).toFixed(4) + ' µ';
            if (a < 1) return (n * 1e3).toFixed(4) + ' m';
            return n.toFixed(4);
        }

        function calcOhm() {
            const v = simV.value.trim() !== '' ? parseFloat(simV.value) : null;
            const i = simI.value.trim() !== '' ? parseFloat(simI.value) : null;
            const r = simR.value.trim() !== '' ? parseFloat(simR.value) : null;
            const given = [v, i, r].filter(x => x !== null && !isNaN(x)).length;
            simP.value = '';
            simStatus.style.color = 'var(--txt3)';

            if (given < 2) { simStatus.textContent = 'Introduce al menos dos valores para calcular'; return; }

            let vv = v, iv = i, rv = r;
            try {
                if (vv === null) vv = iv * rv;
                else if (iv === null) iv = vv / rv;
                else if (rv === null) rv = vv / iv;
            } catch (e) { simStatus.textContent = 'Error en el cálculo'; return; }

            if (!isFinite(vv) || !isFinite(iv) || !isFinite(rv)) {
                simStatus.textContent = 'Valores inválidos (división por cero o infinito)';
                simStatus.style.color = 'var(--red)';
                return;
            }

            const pv = vv * iv;
            simP.value = fmtNum(pv) + 'W';

            if (v === null && simV.value === '') simV.value = +vv.toFixed(6);
            if (i === null && simI.value === '') simI.value = +iv.toFixed(6);
            if (r === null && simR.value === '') simR.value = +rv.toFixed(6);

            simStatus.textContent = `V = ${fmtNum(vv)}V  ·  I = ${fmtNum(iv)}A  ·  R = ${fmtNum(rv)}Ω  ·  P = ${fmtNum(pv)}W`;
            simStatus.style.color = 'var(--accent)';
        }

        [simV, simI, simR].forEach(inp => inp.addEventListener('input', calcOhm));

        // Sidenav active on scroll
        const sections = Array.from(document.querySelectorAll('[id]')).filter(el => el.tagName !== 'BUTTON');
        const navLinks = document.querySelectorAll('.sidenav-link[href^="#"]');
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(s => { if (window.scrollY >= s.offsetTop - 140) current = s.id; });
            navLinks.forEach(l => l.classList.toggle('active', l.getAttribute('href') === '#' + current));
        }, { passive: true });
    </script>
</body>

</html>